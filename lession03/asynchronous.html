<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>javascript异步</title>
    <script src="./jquery-3.1.1.min.js"></script>
</head>
<body>


<div>
    <code>
        var r = asyncUrl('./frontenddevhandbook.pdf');
        console.log(r);
    </code>


    <button onclick="invokeAsync()">同步调用</button>
</div>

<div>
    <code>
        var r = $.get('./frontenddevhandbook.pdf');
        console.log(r);
    </code>


    <button onclick="invokeSync()">异步调用</button>
</div>

<button onclick="alert('i\'m alert!')">open alert</button>
<button onclick="invokeOpen()">打开百度</button>
<button onclick="console.log('hello')">打印日志</button>


<p>
  这里有一个耗时操作，request一个比较大的文件。
</p>

<p>
同步获取的情况下，页面会卡住。点击下面三个按钮是没反应的。只有同步操作完成之后点击的效果才会显现。
</p>

<p>
异步操作时，页面操作没有影响。
</p>

<script>

    $(function () {
        $.ajaxSetup({
            cache: false //关闭AJAX缓存
        });
    });

    function invokeOpen() {
        open('http://www.baidu.com')
    }

    function invokeAsync() {
        var r = asyncUrl('./frontenddevhandbook.pdf');
        console.log(r);
    }

    function invokeSync() {
        var r = $.get('./frontenddevhandbook.pdf');
        console.log(r);
    }

    function asyncUrl(url) {
        return $.ajax({
            url: url,
            async: false
        });
    }

</script>

</body>
</html>
